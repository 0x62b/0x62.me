<!doctype html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="/static/css/main.css"/>
    <script>
      function handleKeyDown(e) {
        if (e.key == 'g' || e.key == 'G') location.href = 'https://github.com/0x62b';
        else if (e.key == 'w' || e.key == 'W') location.href = 'https://wasteof.money/users/0x62';
      }

      window.addEventListener("keydown", handleKeyDown);

      window.addEventListener('DOMContentLoaded', () => {
        const params = new URLSearchParams(window.location.search);
        const page = params.get('page');
        let lang = params.get('lang');

        if (!lang) {
          lang = "en";
        }

        if (page) {
          document.getElementById('content').setAttribute('src', `${page}?lang=${lang}`);
        }

        const embeds = document.querySelectorAll('embed');
        embeds.forEach(embed => {
          embed.addEventListener('load', () => {
            const window = embed.contentWindow || embed.getSVGDocument()?.defaultView;
            if (window) {
              window.addEventListener('keydown', handleKeyDown);
            }
          });
        });
      });
    </script>
  </head>
  <body style="height: 95vh; display: flex; flex-direction: column;">
    <div style="height: 85%">
      <embed id="content" type="text/html" width="100%" height="100%"/>
    </div>
    <div style="height: 15%;">
      <embed id="footer" src="footer.html?lang=en" type="text/html" width="100%" height="100%"/>
    </div>
  </body>
</html>