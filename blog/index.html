<!doctype html>
<html>
  <head>
    <title>0x62's yapping</title>
    <link rel="stylesheet" type="text/css" href="/static/css/main.css"/>
    <script>
      let y = false;
      let a = false;
      let p = false;

      async function load() {
        const res = await fetch("posts.json");
        const json = await res.json();
        const posts = document.getElementById("posts");

        json.posts.forEach((post) => {
          posts.innerHTML += `
          <a href="reader.html?post=${post.filename}" class="text-white" style="text-decoration: none;">
            <div class="blog-post">
              <h4>${post.title}</h4>
              <span>${post.description}</span>
              <br/><br/>
              <i>${new Date(post.timestamp).toLocaleString()}</i>
              <br/><br/>
            </div>
          </a>`
        });
      }
      load();

      document.addEventListener("keydown", (e) => {
        if (e.key == 'g' || e.key == 'G') window.open('https://github.com/0x62b');
        else if (e.key == 'w' || e.key == 'W') window.open('https://wasteof.money/users/0x62');
        else if (e.key == 'q' || e.key == 'Q') location.href = '/';

        if (e.key.toUpperCase() == "Y") y = true;
        if (e.key.toUpperCase() == "A" && y) a = true;
        if (e.key.toUpperCase() == "P" && a) p = true;

        if (y && a && p) location.href = "posts/new.html";
      });
    </script>
  </head>
  <body style="height: 85vh;">
    <h1>0x62's yapping</h1>
    <p>Here I yap about stuff that interests, concerns, or annoys me.</p>
    <div style="height: 85%">
      <h3>Latest posts</h4>
      <div id="posts">

      </div>
    </div>
    <div style="height: 15%;">
      <embed id="footer" src="/footer.html" type="text/html" width="100%" height="100%"/>
    </div>
  </body>
</html>